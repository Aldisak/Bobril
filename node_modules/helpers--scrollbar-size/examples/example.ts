import * as b from "bobril";
import * as Example from "bobwai--example";
import * as Container from "bobwai--viewer-container";
import * as ScrollBarSizeHelper from "../src/lib";

interface IContext extends b.IBobrilCtx {
    scrollSize: ScrollBarSizeHelper.IScrollbarSize;
}

Example.init({}, () => {
    return [
        Container.create({
            header:
                "Helper detects size of browser`s scrollbar." +
                " It returns width for vertical scrollbar and height for horizontal scrollbar",
            content: [
                b.style(
                    {
                        tag: "div",
                        component: {
                            // init(ctx: IContext) {

                            // },
                            render(ctx: IContext, me: b.IBobrilNode): void {
                                ctx.scrollSize = ScrollBarSizeHelper.getScrollbarSize();
                                me.children = [
                                    b.styledDiv(
                                        `This browser vertical scrollbar width: ${
                                            ctx.scrollSize.vertical
                                        } px, horizontal scrollbar height: ${ctx.scrollSize.horizontal} px`
                                    ),
                                    b.styledDiv(
                                        b.styledDiv("Scrollbar example", { height: 400, background: Example.ExampleColor.Color1 }),
                                        {
                                            height: 200,
                                            width: 200,
                                            overflow: "auto"
                                        }
                                    ),
                                    b.styledDiv(`Actual zoom: ${Math.round(window.devicePixelRatio * 100)}`)
                                ];
                            }
                        }
                    },
                    {
                        fontSize: 16,
                        lineHeight: "25px"
                    }
                )
            ]
        })
    ];
});
