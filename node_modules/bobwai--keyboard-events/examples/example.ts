import * as b from "bobril";
import * as KeyboardEvents from "../src/lib";
import * as Container from "bobwai--viewer-container";
import * as Textbox from "bobwai--textbox";
import * as Example from "bobwai--example";

let modelEnter = "";
const onChangeEnter = (value: string) => {
    modelEnter = value;
    b.invalidate();
};
const onEnterPress = () => {
    alert("Enter was pressed.");
    return true;
};

let modelEsc = "";
const onChangeEsc = (value: string) => {
    modelEsc = value;
    b.invalidate();
};
const onEscPress = () => {
    alert("Esc was pressed.");
    return true;
};

Example.init({ preferredHeight: Example.PreferredHeight.XSmall }, () => {
    return [
        Container.create({
            header: '"Enter" handling (press Enter inside some textbox)',
            content: KeyboardEvents.create({
                children: [
                    Textbox.create({ onChange: onChangeEnter, value: modelEnter, placeholder: "Press Enter inside me" }),
                    Textbox.create({ onChange: onChangeEnter, value: modelEnter, placeholder: "or inside me" }),
                ],
                onEnterPress: onEnterPress,
            }),
        }),
        Container.create({
            header: '"Esc" handling (press Esc inside some textbox)',
            content: KeyboardEvents.create({
                children: [
                    Textbox.create({ onChange: onChangeEsc, value: modelEsc, placeholder: "Press Esc inside me" }),
                    Textbox.create({ onChange: onChangeEsc, value: modelEsc, placeholder: "or inside me" }),
                ],
                onEscPress: onEscPress,
            }),
        }),
    ];
});
