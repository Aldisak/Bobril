"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var debug_1 = require("./debug");
function shallowCopy(source, callback) {
    if (source instanceof Array) {
        source = source.slice();
        var result_1 = callback ? callback(source) : undefined;
        return result_1 || source;
    }
    if (typeof source === "object") {
        return objectShallowCopy(source, callback);
    }
    if (debug_1.debug) {
        debug_1.debug("Shallow copy should not be used for primitive types.");
    }
    var result = callback && callback(source);
    return result || source;
}
exports.shallowCopy = shallowCopy;
function objectShallowCopy(source, callback) {
    if (callback === void 0) { callback = function (_t) { }; }
    var target = {};
    for (var property in source)
        if (source.hasOwnProperty(property))
            target[property] = source[property];
    var result = callback(target);
    return result || target;
}
exports.objectShallowCopy = objectShallowCopy;
;
function deepFreeze(source) {
    Object.freeze(source);
    for (var property in source) {
        var sourceProperty = source[property];
        if (source.hasOwnProperty(property)
            && sourceProperty !== null
            && (typeof sourceProperty === "object" || typeof sourceProperty === "function")
            && !Object.isFrozen(sourceProperty))
            deepFreeze(sourceProperty);
    }
    return source;
}
exports.deepFreeze = deepFreeze;
;
function isFunction(val) {
    return typeof val == "function";
}
exports.isFunction = isFunction;
//# sourceMappingURL=helpers.js.map