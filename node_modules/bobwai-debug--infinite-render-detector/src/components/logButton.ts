import * as b from "bobril";

export interface IData {
    enabled: boolean;
    onClick: (enabled: boolean) => void;
}

interface IContext extends b.IBobrilCtx {
    data: IData;
}

export const create = b.createComponent<IData>({
    id: "infinite-render-detector-log-button",
    render(ctx: IContext, me: b.IBobrilNode): void {
        me.tag = "button";

        if (ctx.data.enabled) {
            me.children = "Disable logging";
        } else {
            me.children = "Enable logging";
        }
    },
    onClick(ctx: IContext): boolean {
        ctx.data.onClick(!ctx.data.enabled);

        return true;
    },
});
