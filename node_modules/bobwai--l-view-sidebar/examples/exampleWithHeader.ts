import * as b from "bobril";
import * as LApp from "bobwai--l-app";
import * as Checkbox from "bobwai--checkbox";
import * as Color from "bobwai--color";
import * as Example from "bobwai--example";
import * as HeaderText from "bobwai--header-text";
import * as ScrollShadow from "bobwai--scroll-shadow";
import * as Tab from "bobwai--tab";
import * as TabItem from "bobwai--tab-item";
import * as LViewSidebar from "../src/lib";

let containsHeader: boolean = true;
let containsHeaderTabs: boolean = true;

let loremIpsum =
    "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus massa tortor, tempus " +
    "quis ullamcorper non, blandit at sapien. Fusce tempus turpis in gravida aliquet. Pellentesque " +
    "maximus purus elit, in rhoncus sem fermentum et. Donec aliquet leo erat, vel porttitor elit " +
    "posuere vitae. Nam mattis eget felis ut sagittis. Mauris ultricies ac orci hendrerit ultrices.";

let sidebarContent = b.styledDiv(
    "Here is sidebar body",
    b.styleDef({
        background: Color.Chart_Green100
    })
);

Example.init({}, () => {
    return LApp.create({
        children: [
            LViewSidebar.create({
                scrollbarsMode: LViewSidebar.ScrollbarsMode.NoScrollbars,
                headerContent: containsHeader
                    ? HeaderText.create({
                          content: "Sidebar Header",
                          size: HeaderText.Size.small
                      })
                    : undefined,
                headerTabContent: containsHeaderTabs
                    ? Tab.create({
                          children: [
                              TabItem.create({
                                  label: "Tab 1",
                                  isSelected: true,
                                  onClick: () => {}
                              }),
                              TabItem.create({
                                  label: "Tab 2",
                                  isSelected: false,
                                  onClick: () => {}
                              })
                          ],
                          gapSize: 5,
                          sidePadding: 25
                      })
                    : undefined,
                width: LViewSidebar.SidebarWidth.Medium,
                children: ScrollShadow.create({
                    content: [
                        sidebarContent,
                        Checkbox.create({
                            value: containsHeader,
                            title: "Contains Header (experimental)",
                            onChange: (value: boolean): void => {
                                containsHeader = value;
                                b.invalidate();
                            }
                        }),
                        Checkbox.create({
                            value: containsHeaderTabs,
                            title: "Contains Header Tabs (experimental)",
                            onChange: (value: boolean): void => {
                                containsHeaderTabs = value;
                                b.invalidate();
                            }
                        }),
                        b.styledDiv(loremIpsum, loremIpsumStyle),
                        b.styledDiv(loremIpsum, loremIpsumStyle),
                        b.styledDiv(loremIpsum, loremIpsumStyle),
                        b.styledDiv(loremIpsum, loremIpsumStyle)
                    ]
                })
            })
        ]
    });
});

const loremIpsumStyle = b.styleDef({ color: "lightgray", marginTop: 15 });
