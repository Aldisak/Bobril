import * as TaskQueue from "../src/lib";
import * as Example from "bobwai--example";
import * as LApp from "bobwai--l-app";
import * as LBlock from "bobwai--l-block";
import * as Checkbox from "bobwai--checkbox";
import * as b from "bobril";

let useNoZIndex: boolean | undefined = undefined;

function getTaskQueueData(): TaskQueue.IData[] {
    return [
        {
            position: TaskQueue.Position.BottomRight,
            useNoZIndex: useNoZIndex,
            children: LBlock.create({
                background: "#ddaa88",
                children: "Here is basic"
            })
        },
        {
            position: TaskQueue.Position.BottomLeft,
            useNoZIndex: useNoZIndex,
            children: LBlock.create({
                background: "#ddaa88",
                children:
                    "Lorem ipsum dolor sit amet, consectetur adipiscing elit. " +
                    "Duis eget eros condimentum, congue ante non, imperdiet ante. " +
                    "Lorem ipsum dolor sit amet, consectetur adipiscing elit."
            })
        },
        {
            position: TaskQueue.Position.TopLeft,
            useNoZIndex: useNoZIndex,
            children: LBlock.create({
                background: "#ddaa88",
                children: "Top left."
            })
        },
        {
            position: TaskQueue.Position.TopRight,
            useNoZIndex: useNoZIndex,
            children: LBlock.create({
                background: "#ddaa88",
                children: "Top right."
            })
        }
    ];
}

Example.init({}, () => {
    return LApp.create({
        children: [
            getTaskQueueData().map((item: TaskQueue.IData) => {
                return TaskQueue.create(item);
            }),
            Example.createControlPanel({
                items: [
                    Example.createField({
                        label: "useNoZIndex",
                        fieldFactory: Checkbox.create,
                        value: useNoZIndex,
                        fieldType: Example.FieldType.Checkbox,
                        onChange: v => {
                            useNoZIndex = v;
                            b.invalidate();
                        },
                        note: "Temporary property until useNoZIndex becomes default "
                    })
                ]
            })
        ]
    });
});
