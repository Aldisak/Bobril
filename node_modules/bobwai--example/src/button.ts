import * as b from "bobril";

interface IData {
    label: string;
    background: string;
    onClick: () => void;
    isSmall?: boolean;
}

interface IContext extends b.IBobrilCtx {
    data: IData;
}

export const create = b.createComponent<IData>({
    id: "bobwai--example-button",
    render(ctx: IContext, me: b.IBobrilNode) {
        me.children = ctx.data.label;
        b.style(me, [exampleMockButtonStyle, { background: ctx.data.background }, ctx.data.isSmall && exampleMockButtonSmallStyle]);
    },
    onClick(ctx: b.IBobrilCtx, _e: b.IBobrilMouseEvent): boolean {
        ctx.data.onClick();
        return false;
    },
});

const exampleMockButtonStyle = b.styleDef({
    height: 30,
    display: "inline-block",
    lineHeight: "30px",
    padding: "0 10px",
    color: "white",
    cursor: "pointer",
    userSelect: "none",
});

const exampleMockButtonSmallStyle = b.styleDefEx(exampleMockButtonStyle, {
    height: 20,
    lineHeight: "20px",
    verticalAlign: "middle",
});
