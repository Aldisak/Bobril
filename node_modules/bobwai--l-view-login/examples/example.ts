import * as b from "bobril";
import * as LViewLogin from "../src/lib";
import * as LApp from "bobwai--l-app";
import * as Example from "bobwai--example";
import * as Color from "bobwai--color";
import * as Checkbox from "bobwai--checkbox";

let logoBackgroundColor: Color.IColor;
let isMobile = false;
let isFooterVisible: boolean | undefined = true;
let isGradient = false;

Example.init({}, () => {
    return [
        LApp.create({
            children: [
                LViewLogin.create({
                    isMobile: isMobile,
                    logoContent: {
                        tag: "div",
                        children: "Logo content",
                        style: {
                            width: 350,
                            height: 50,
                            lineHeight: "50px",
                            textAlign: "center",
                        },
                    },
                    formContent: b.styledDiv(
                        [
                            "Form content",
                            b.styledDiv(
                                Example.createControlPanel({
                                    items: [
                                        Example.createField<boolean>({
                                            fieldFactory: Checkbox.create,
                                            label: "Is mobile",
                                            labelWidth: 165,
                                            value: isMobile,
                                            onChange: (v: boolean) => {
                                                isMobile = v;
                                                b.invalidate();
                                            },
                                            fieldType: Example.FieldType.Checkbox,
                                        }),
                                        Example.createField<boolean>({
                                            fieldFactory: Checkbox.create,
                                            label: "Is Footer Visible",
                                            labelWidth: 165,
                                            value: isFooterVisible,
                                            onChange: (v: boolean) => {
                                                isFooterVisible = v;
                                                b.invalidate();
                                            },
                                            fieldType: Example.FieldType.Checkbox,
                                        }),
                                        Example.createField<boolean>({
                                            fieldFactory: Checkbox.create,
                                            label: "Gradient background of logo content",
                                            labelWidth: 165,
                                            value: isGradient,
                                            onChange: (v: boolean) => {
                                                isGradient = v;
                                                b.invalidate();
                                            },
                                            fieldType: Example.FieldType.Checkbox,
                                        }),
                                        Example.createField<Color.IColor>({
                                            label: "Background color of logo",
                                            labelWidth: 165,
                                            onChange: (v: Color.IColor) => {
                                                logoBackgroundColor = v;
                                                b.invalidate();
                                            },
                                            fieldType: Example.FieldType.IColor,
                                        }),
                                    ],
                                }),
                                {
                                    textAlign: "left",
                                }
                            ),
                        ],
                        {
                            height: 250,
                            backgroundColor: "#EAC317",
                        }
                    ),

                    backLinkContent: {
                        label: "Go Back",
                        onClick: () => {
                            console.log("Go Back Clicked");
                        },
                    },
                    customTheme: {
                        logoBackgroundColor: logoBackgroundColor,
                        logoBackground: isGradient ? createGradient() : undefined,
                    },
                    footerContent: isFooterVisible
                        ? b.styledDiv("Optional footer content", {
                              height: 35,
                              marginTop: 25,
                              background: Example.ExampleColor.Color1,
                          })
                        : undefined,
                }),
            ],
        }),
    ];
});

function createGradient(): string {
    return "linear-gradient(44deg, #FF4200 0%, #D9FA4F 100%) 0% 0% no-repeat padding-box";
}
