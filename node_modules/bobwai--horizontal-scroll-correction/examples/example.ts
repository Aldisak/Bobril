import * as b from "bobril";
import * as Example from "bobwai--example";
import * as LApp from "bobwai--l-app";
import * as HorizontalScrollCorrection from "../src/lib";

Example.init({}, () => {
    return [
        LApp.create({
            children: [
                HorizontalScrollCorrection.create({
                    content: b.styledDiv(
                        "Fixed element WITH horizontal scroll correction same minimal width as application layout",
                        getFixedStyles(0)
                    )
                }),
                b.styledDiv(
                    "Fixed element WITHOUT horizontal scroll correction same minimal width as application layout",
                    getFixedStyles(1)
                ),
                b.styledDiv(
                    Example.createControlPanel({
                        items: [
                            Example.createField({
                                label: "Note",
                                fieldType: Example.FieldType.Note,
                                value: `Resize whole window to raise horizontal scrollbar.
                                     If you move the scrollbar - elements without correction stay at the same position 
                                     and is not possible to see whole content`
                            })
                        ]
                    }),
                    {
                        marginTop: 200,
                        fontSize: 15
                    }
                )
            ]
        })
    ];
});

function getFixedStyles(order: number): b.IBobrilStyle {
    const height = 100;
    return {
        position: "fixed",
        minWidth: LApp.MinWidth,
        top: order * height,
        width: "100%",
        fontSize: 18,
        textAlign: "right",
        height: height,
        background: "#65bfff",
        borderBottom: "1px solid grey",
        boxSizing: "border-box"
    };
}
