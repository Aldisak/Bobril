import * as b from "bobril";
import * as Container from "bobwai--viewer-container";
import * as Example from "bobwai--example";
import { KeyCode } from "../src/lib";

Example.init({}, () => {
    return [
        Container.create({
            header: "helpers--key-codes",
            content: [
                b.styledDiv(
                    enumToKeyValueArray(KeyCode).map((keyCode) => {
                        return b.styledDiv([b.styledDiv(keyCode.key, mockExampleItemStyle), keyCode.value], mockExampleItemBorderStyle);
                    }),
                    mockExampleInlineBlockStyle
                ),
            ],
        }),
    ];
});

function enumToKeyValueArray(o: any): { key: string; value: number }[] {
    const items: { key: string; value: number }[] = [];
    Object.keys(o).forEach((key) => {
        if (typeof o[key] === "string") {
            items.push({ key: o[key], value: parseInt(key) });
        }
    });
    return items;
}

const mockExampleItemStyle = b.styleDef({ display: "inline-block", width: 100 });

const mockExampleItemBorderStyle = b.styleDef({ borderBottom: "1px solid grey" });

const mockExampleInlineBlockStyle = b.styleDef({ display: "inline-block" });
