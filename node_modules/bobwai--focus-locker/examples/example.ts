import * as b from "bobril";
import * as Container from "bobwai--viewer-container";
import * as Example from "bobwai--example";
import * as LField from "bobwai--l-field";
import * as LFieldGroup from "bobwai--l-field-group";
import * as Textbox from "bobwai--textbox";
import * as Button from "bobwai--button";
import { FocusLocker } from "../src/lib";

Example.init({}, () => {
    return [
        Container.create({
            header: "bobwai--focus-locker",
            description: "Make sense only if there is some focusable element in the children",
            content: [
                LField.create({
                    valueContent: b.withKey(
                        Textbox.create({
                            value: "Some value",
                            onChange: _v => { }
                        }),
                        "key1"
                    )
                }),
                getMockParent(
                    FocusLocker({
                        children: [
                            LFieldGroup.create({
                                children: [
                                    LField.create({
                                        valueContent: Textbox.create({
                                            value: "Some value",
                                            onChange: _v => { }
                                        })
                                    }),
                                    LField.create({
                                        valueContent: Textbox.create({
                                            value: "Some value",
                                            onChange: _v => { }
                                        })
                                    }),
                                    LField.create({
                                        valueContent: Textbox.create({
                                            value: "Some value",
                                            onChange: _v => { }
                                        })
                                    }),
                                    LField.create({
                                        valueContent: Button.create({
                                            label: "Some value",
                                            onClick: () => { }
                                        })
                                    }),
                                    LField.create({
                                        valueContent: Button.create({
                                            label: "Some value",
                                            onClick: () => { }
                                        })
                                    })
                                ]
                            })
                        ]
                    })
                ),
                LField.create({
                    valueContent: Textbox.create({
                        value: "Some value",
                        onChange: _v => { }
                    })
                })
            ]
        }),
        Container.create({
            header: "bobwai--focus-locker, not focusable element inside",
            isTest: true,
            content: [
                getMockParent(
                    FocusLocker({
                        children: []
                    })
                )
            ]
        })
    ];
});

function getMockParent(content: b.IBobrilNode): b.IBobrilNode {
    return b.styledDiv(content, { background: Example.ExampleColor.Color1, height: 300, padding: 40 });
}
