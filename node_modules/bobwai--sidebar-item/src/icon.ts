import * as b from "bobril";
import * as c from "./constants";
import * as d from "./data";
import * as s from "./styles";

export function create(data: d.IData): b.IBobrilChild {
    const iconContent = d.getIconContent(data);
    if (!iconContent) {
        return;
    }
    const styleList = [iconStyle, data.isDisabled && s.isDisabledChildrenStyle, data.size === d.Size.Small && iconSmallStyle];
    return b.styledDiv(b.style(b.cloneNode(<b.IBobrilNode>iconContent), iconBaseStyle), styleList);
}

const iconStyle = b.styleDef(
    {
        height: c.lineHeight,
        position: "absolute",
        margin: "auto",
        top: 0,
    },
    {},
    "sidebarItemIconStyle"
);

const iconSmallStyle = b.styleDefEx(
    iconStyle,
    {
        height: c.smallLineHeight,
        marginLeft: c.iconPlusMarginWidth,
    },
    {},
    "sidebarItemIconSmallStyle"
);

const iconBaseStyle = b.styleDef({
    verticalAlign: "middle",
});
